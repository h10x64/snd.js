/**
 * snd.js - The Sound Library for JavaScript with WebAudioAPI - v.1.0 beta
 * 
 * The MIT License (MIT)
 * copyright (c) 2014 N_H <h.10x64@gmail.com>
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 **/
snd={VERSION:"1.0.20140303",IS_BETA:!0,ALIAS:"Gérôme"},snd._AUDIO_CONTEXT=null,snd._MASTER=null,snd._AUDIO_DATA_MANAGER=null,snd._DOES_MP3_SUPPORTED=!1,snd._DOES_WAV_SUPPORTED=!1,snd._DOES_OGG_SUPPORTED=!1,snd._DOES_AAC_SUPPORTED=!1,snd._DOES_M4A_SUPPORTED=!1,function(){var a=document.createElement("audio");snd._DOES_MP3_SUPPORTED=!(""===a.canPlayType("audio/mpeg;")),snd._DOES_M4A_SUPPORTED=!(""===a.canPlayType('audio/mp4; codecs="mp4a.40.2"')),snd._DOES_AAC_SUPPORTED=snd._DOES_M4A_SUPPORTED,snd._DOES_WAV_SUPPORTED=!(""===a.canPlayType('audio/wav; codecs="1"')),snd._DOES_OGG_SUPPORTED=!(""===a.canPlayType('audio/ogg; codecs="vorbis"')),delete a}(),snd.CLASS_DEF=[],snd.PLUGIN_INIT=[],snd.init=function(){snd.resetAudioContext(),Object.defineProperties(snd,{DOES_MP3_SUPPORTED:{get:function(){return snd._DOES_MP3_SUPPORTED}},DOES_WAV_SUPPORTED:{get:function(){return snd._DOES_WAV_SUPPORTED}},DOES_OGG_SUPPORTED:{get:function(){return snd._DOES_OGG_SUPPORTED}},DOES_AAC_SUPPORTED:{get:function(){return snd._DOES_AAC_SUPPORTED}},DOES_M4A_SUPPORTED:{get:function(){return snd._DOES_M4A_SUPPORTED}},MAX_CHANNEL_COUNT:{writable:!1,value:snd._AUDIO_CONTEXT.destination.maxChannelCount},IDX_2CH_L:{writable:!1,value:0},IDX_2CH_R:{writable:!1,value:1},IDX_4CH_FL:{writable:!1,value:0},IDX_4CH_FR:{writable:!1,value:1},IDX_4CH_RL:{writable:!1,value:2},IDX_4CH_RR:{writable:!1,value:3},IDX_6CH_FL:{writable:!1,value:0},IDX_6CH_FR:{writable:!1,value:1},IDX_6CH_C:{writable:!1,value:2},IDX_6CH_SW:{writable:!1,value:3},IDX_6CH_RL:{writable:!1,value:4},IDX_6CH_RR:{writable:!1,value:5},LOWPASS:{writable:!1,value:"lowpass"},HIGHPASS:{writable:!1,value:"highpass"},BANDPASS:{writable:!1,value:"bandpass"},LOWSHELF:{writable:!1,value:"lowshelf"},HIGHSHELF:{writable:!1,value:"highshelf"},PEAKING:{writable:!1,value:"peaking"},NOTCH:{writable:!1,value:"notch"},ALLPASS:{writable:!1,value:"allpass"},OVERSAMPLE_NONE:{writable:!1,value:"none"},OVERSAMPLE_DOUBLE:{writable:!1,value:"2x"},OVERSAMPLE_QUAD:{writable:!1,value:"4x"},status:{value:function(){var a={};return Object.defineProperties(a,{NONE:{value:"none",writable:!1},READY:{value:"ready",writable:!1},STARTED:{value:"started",writable:!1},PAUSED:{value:"paused",writable:!1},STOPPED:{value:"ended",writable:!1}}),a}(),writable:!1},srctype:{value:function(){var a={};return Object.defineProperties(a,{NONE:{value:"none",writable:!1},AUDIO_BUFFER:{value:"audiobuffer",writable:!1},MEDIA_STREAM:{value:"mediastream",writable:!1},MEDIA_ELEMENT:{value:"mediaelement",writable:!1},OSCILLATOR:{value:"oscillator",writable:!1}}),a}(),writable:!1},oscillatortype:{value:function(){var a={};return Object.defineProperties(a,{SINE:{value:"sine",writable:!1},SQUARE:{value:"square",writable:!1},SAWTOOTH:{value:"sawtooth",writable:!1},TRIANGLE:{value:"triangle",writable:!1}}),a}(),writable:!1},audioparam:{value:function(){var a={};return Object.defineProperties(a,{type:{value:function(){var a={};return Object.defineProperties(a,{SET:{value:"set",writable:!1},LINER:{value:"liner",writable:!1},EXPONENTIALLY:{value:"exponentially",writable:!1}}),a}(),writable:!1}}),a}(),writable:!1},BLOWSER:{get:function(){window.navigator.userAgent.toLowerCase()}},AUDIO_CONTEXT:{get:function(){return snd._AUDIO_CONTEXT}},MASTER:{get:function(){return snd._MASTER}},AUDIO_DATA_MANAGER:{get:function(){return snd._AUDIO_DATA_MANAGER}}});var a=function(){for(var a=0;a<snd.CLASS_DEF.length;a++)snd.CLASS_DEF[a]();for(var a=0;a<snd.PLUGIN_INIT.length;a++)snd.PLUGIN_INIT[a]();snd._MASTER=new snd.AudioMaster,snd._AUDIO_DATA_MANAGER=new snd.AudioDataManager,"function"==typeof snd.onload&&snd.onload()};"function"==typeof snd.using?snd.using(a):a()},snd.resetAudioContext=function(){null==snd._AUDIO_CONTEXT&&("AudioContext"in window?snd._AUDIO_CONTEXT=new AudioContext:"webkitAudioContext"in window&&(snd._AUDIO_CONTEXT=new webkitAudioContext),snd._AUDIO_CONTEXT.destination.channelCount=snd._AUDIO_CONTEXT.destination.maxChannelCount)},snd.util={},snd.util.REGEX_DATA_URI_SCHEME=/^data:audio.*;base64,(.*)$/,snd.util.REGEX_KEY=/^key:(.*)$/,snd.util.createSources=function(a,b,c,d){var e={};e.MediaElement=null!=a.MediaElement?snd.util.createMediaElementAudioSources(a.MediaElement,b,c):null,null!=a.AudioBuffer?snd.util.createBufferSources(a.AudioBuffer,b,function(a){e.AudioBuffer=a,d(e)}):(e.AudioBuffer=null,d(e))},snd.util.createBufferSources=function(a,b,c){if(!snd.BufferSource)throw new snd.Exception("Please load snd.BufferSource.js");var d={},e={};for(var f in a){var g=a[f];null==d[g]&&(d[g]=[]);var h=new snd.BufferSource(f);d[g].push(h)}for(var g in d)e[g]=g;snd.AUDIO_DATA_MANAGER.addAll(e);var i=function(){var a={};for(var e in d)for(var f=0;f<d[e].length;f++)d[e][f].loadAudioBuffer(e),a[d[e][f].id]=d[e][f],b&&snd.MASTER.connectAudioUnit(d[e][f].id,d[e][f]);snd.AUDIO_DATA_MANAGER.removeAllDataLoadListener(i),c(a)};snd.AUDIO_DATA_MANAGER.addAllDataLoadListener(i),snd.AUDIO_DATA_MANAGER.load()},snd.util.createMediaElementAudioSources=function(a,b,c){if(!snd.MediaElementAudioSource)throw new snd.Exception("Please load snd.MediaElementAudioSource.js");var d={};for(var e in a){var f,g=document.getElementById(e);null==g?(f=new Audio(e),c.appendChild(f)):f=g,null!=a[e]&&""!=a[e]&&(f.src=a[e]);var h=new snd.MediaElementAudioSource(e,f);d[e]=h,b&&snd.MASTER.connectAudioUnit(e,h)}return d},snd.util.getNewKey=function(a){return a+(new Date).getTime().toString()+Math.floor(1e3*Math.random())},snd.util.isDataURI=function(a){return null!=snd.util.REGEX_DATA_URI_SCHEME.exec(a)},snd.util.stripDataURI=function(a){var b=a.match(snd.util.REGEX_DATA_URI_SCHEME);return b?b[1]:undefiend},snd.util.isAudioManagerKey=function(a){return null!=snd.util.REGEX_KEY.exec(a)},snd.util.stripAudioManagerKey=function(){var a=uri.match(snd.util.REGEX_DATA_URI_SCHEME);return a?a[1]:undefiend},snd.util.noteToFrequency=function(a,b){return 440*Math.pow(2,(12*(a-4)+b-9)/12)},snd.util.noteToSec=function(a,b){return 60/(a*b/4)},snd.Exception=function(a){this._message=a,Object.defineProperties(this,{message:{enumerable:!0,get:function(){return this._message}}})},snd.CLASS_DEF.push(function(){snd.AudioDataManager=function(){this._requests={},this._dataMap={},this._eventListeners={},this._allLoadEventListeners=[],Object.defineProperties(this,{data:{get:function(){for(var a={},b=Object.keys(this._dataMap),c=0;c<b.length;c++)!function(a,b,c){var d={};d[b]={get:function(){return c._dataMap[b].data}},Object.defineProperties(a,d)}(a,b[c],this);return a}}})},snd.AudioDataManager.prototype.onload=function(){for(var a=0;a<this._allLoadEventListeners.length;a++)this._allLoadEventListeners[a]()},snd.AudioDataManager.prototype.addAllDataLoadListener=function(a){this._allLoadEventListeners.push(a)},snd.AudioDataManager.prototype.removeAllDataLoadListener=function(a){for(var b=0;b<this._allLoadEventListeners.length;b++){var c=this._allLoadEventListeners[b];if(c===a)return this._allLoadEventListeners.splice(b,1),!0}return!1},snd.AudioDataManager.prototype.addOnLoadListener=function(a,b){null==this._eventListeners[a]&&(this._eventListeners[a]={onload:[]}),this._eventListeners[a].onload.push(b)},snd.AudioDataManager.prototype.removeOnLoadListener=function(a){return null!=this._eventListeners[a]?(delete this._eventListeners[a],!0):!1},snd.AudioDataManager.prototype.getAudioBuffer=function(a){return null!=this._dataMap[a]?this._dataMap[a].data:void 0},snd.AudioDataManager.prototype.add=function(a,b){var c=this;this._dataMap[a]={doesLoaded:!1};var d=new XMLHttpRequest;d.open("GET",b,!0),d.responseType="arraybuffer",d.onload=function(){snd.AUDIO_CONTEXT.decodeAudioData(d.response,function(b){c._dataMap[a].data=b,c._dataMap[a].doesLoaded=!0,c.loaded(a,b)})},this._requests[a]=d},snd.AudioDataManager.prototype.addBase64=function(a,b){var c=this;this._dataMap[a]={doesLoaded:!1};var d="",e=b.toLowerCase().match(/^data:audio.*base64,(.*)$/);d=e?e[1]:b;for(var f=atob(d),g=new ArrayBuffer(f.length),h=new Uint8Array(g),i=0;i<g.byteLength;i++)h[i]=255&f.charCodeAt(i);this._requests[a]={},this._requests[a].send=function(){snd.AUDIO_CONTEXT.decodeAudioData(g,function(b){c.loaded(a,b)})}},snd.AudioDataManager.prototype.doesAllDataLoaded=function(){for(var a in this._dataMap)if(!this._dataMap[a].doesLoaded)return!1;return!0},snd.AudioDataManager.prototype.addAll=function(a){for(var b=Object.keys(a),c=0;c<b.length;c++){var d=b[c],e=a[d];if(null!=e){var f=e.match(/^data:audio.*base64,(.*)$/);if(f){var g=f[1];this.addBase64(d,g)}else this.add(d,e)}}},snd.AudioDataManager.prototype.removeData=function(a){null!=this._requests[a]&&delete this._requests[a],null!=this._dataMap[a]&&delete this._dataMap[a],null!=this._eventListeners[a]&&delete this.eventLiteners[a]},snd.AudioDataManager.prototype.removeAll=function(a){for(var b=0;b<a.length;b++)removeData(a[b])},snd.AudioDataManager.prototype.load=function(a){if(a)(null==this._requests[a].readyState||this._requests[a].readyState<2)&&this._requests[a].send();else for(var b=Object.keys(this._requests),c=0;c<b.length;c++){var d=b[c];0==this._dataMap[d].doesLoaded&&(null==this._requests[d].readyState||this._requests[d].readyState<2)&&this._requests[d].send()}},snd.AudioDataManager.prototype.loaded=function(a,b){if(this._dataMap[a].data=b,this._dataMap[a].doesLoaded=!0,this._eventListeners[a])for(var c=0;c<this._eventListeners[a].onload.length;c++)this._eventListeners[a].onload[c](b);for(var d in this._dataMap)if(!this._dataMap[d].doesLoaded)return;this.onload()}}),snd.CLASS_DEF.push(function(){snd.AudioMaster=function(){this.unitList={},this._gain=snd.AUDIO_CONTEXT.createGain(),this._gain.channelCount=snd.MAX_CHANNEL_COUNT,this._gain.connect(snd.AUDIO_CONTEXT.destination),this.id=snd.AudioMaster.ID},snd.AudioMaster.ID="snd.MASTER",snd.AudioMaster.prototype.connectAudioUnit=function(a,b){if(null==a&&null==b.id)throw"key == null && audioUnit.id == null";null==a?null==this.unitList[b.id]&&(this.unitList[b.id]=b,b.connect(this._gain,snd.AudioMaster.ID)):(this.unitList[a]=b,b.connect(this._gain,snd.AudioMaster.ID))},snd.AudioMaster.prototype.getAudioUnit=function(a){return this.unitList[a]},snd.AudioMaster.prototype.disconnectAudioUnit=function(a){var b=this.unitList[a];b.getConnector().disconnect(this._gain),delete this.unitList[a]},snd.AudioMaster.prototype.getConnector=function(){return this._gain}}),snd.CLASS_DEF.push(function(){snd.AudioUnit=function(a){this._status=this.createStatus(),this._status.id=a,Object.defineProperties(this,{isAudioUnit:{enumerable:!0,get:function(){return this._status.isAudioUnit}},id:{enumerable:!0,get:function(){return this._status.id}},connection:{enumerable:!0,get:function(){var a=Object.create(this._status.connection);return a}}})},snd.AudioUnit.prototype.createStatus=function(){return new snd.AudioUnit.Status},snd.AudioUnit.prototype.connect=function(a,b,c,d){if(null!=a.id||null!=d){var e=null;null!=a.id?e=a.id:null!=d&&(e=d),e+="["+(null!=b?b:"0")+":"+(null!=c?c:"0")+"]",this._status.connection.push(e)}},snd.AudioUnit.prototype.disconnect=function(a,b,c){if(null!=a.id||null!=c){var d=-1,e="";null!=a.id?e=a.id:null!=c&&(e=c),e+="["+(null!=b?b:"0");for(var f=0;f<this._status.connection.length;f++)if(this._status.connection[f].substring(0,e.length)===e){d=f;break}d>=0&&this._status.connection.splice(d,1)}},snd.AudioUnit.prototype.getConnector=function(){},snd.AudioUnit.prototype.createParamGain=function(a){var b=snd.AUDIO_CONTEXT.createGain();return b._audioParam=a,b.connect(b._audioParam),Object.defineProperties(b,{value:{set:function(a){b._audioParam.value=a},get:function(){return b._audioParam.value}},defaultValue:{get:function(){return b._audioParam.defaultValue}}}),b.setValueAtTime=function(a,c){b._audioParam.setValueAtTime(a,c)},b.linearRampToValueAtTime=function(a,c){b._audioParam.setRampToValueAtTime(a,c)},b.exponentialRampToValueAtTime=function(a,c){b._audioParam.exponentialRampToValueAtTime(a,c)},b.setTargetAtTime=function(a,c,d){b._audioParam.setTargetAtTime(a,c,d)},b.setValueCurveAtTime=function(a,c,d){b._audioParam.setValueCurveAtTime(a,c,d)},b.cancelScheduledValues=function(a){b._audioParam.cancelScheduledValues(a)},b.setAudioParam=function(a){b.disconnect(b._audioParam),b._audioParam=a,b.connect(b._audioParam)},b},snd.AudioUnit.prototype.toJSON=function(){return this._status},snd.AudioUnit.prototype.fromJSON=function(a){var b=JSON.parse(a);try{this.loadData(b),this._status=b}catch(c){throw this._status=createStatus(),c}},snd.AudioUnit.prototype.loadData=function(a){this._status.id=null!=a.id?a.id:"",this._status.connection=null!=a.connection?a.connection:[],this._status.channelCount=null!=a.channelCount?a.channelCount:2,this._status.channelCountMode=null!=a.channelCountMode?a.channelCountMode:"max",this._status.channelInterpretation=null!=a.channelInterpretation?a.channelInterpretation:"discrete"},snd.AudioUnit.loadJSON=function(a){var b=new snd.AudioUnit(""),c=JSON.parse(a);return b.loadData(c),b},snd.AudioUnit.Status=function(){this.className="snd.AudioUnit",this.isAudioUnit=!0,this.id="",this.connection=[],this.channelCount=2,this.channelCountMode="max",this.channelInterpretation="discrete"}}),snd.CLASS_DEF.push(function(){snd.Source=function(){snd.AudioUnit.apply(this,arguments),this._gain=snd.AUDIO_CONTEXT.createGain(),Object.defineProperties(this,{isSource:{get:function(){return this._status.isSource}},volumeParam:{get:function(){var a=this._gain.gain;return null==a.id&&(a.id=this.id+".gain"),a}},volume:{get:function(){return this._gain.gain.value},set:function(a){var b=parseFloat(a);this._gain.gain.value=b,this._status.volume=b}},type:{get:function(){return this._status.type}},status:{get:function(){return this._status.status}}})},snd.Source.prototype=Object.create(snd.AudioUnit.prototype),snd.Source.prototype.constructor=snd.Source,snd.Source.CLASS_NAME="snd.Source",snd.Source.prototype.start=function(){},snd.Source.prototype.stop=function(){},snd.Source.prototype.setGain=function(a){this._gain.gain.value=a},snd.Source.prototype.getGain=function(){return this._gain.gain.value},snd.Source.prototype.connect=function(a,b,c){snd.AudioUnit.prototype.connect.apply(this,arguments),a.isAudioUnit||null!=a.getConnector?this._gain.connect(a.getConnector(),b,c):c?this._gain.connect(a,b,c):this._gain.connect(a,b)},snd.Source.prototype.disconnect=function(a){snd.AudioUnit.prototype.disconnect.apply(this,arguments),this._gain.disconnect(a.isAudioUnit||null!=a.getConnector?a.getConnector():a)},snd.Source.prototype.getConnector=function(){return this._gain},snd.Source.prototype.createStatus=function(){return new snd.Source.Status},snd.Source.prototype.toJSON=function(){var a=snd.AudioUnit.prototype.toJSON.apply(this,arguments);return a.volume=this.volume,a},snd.Source.prototype.loadData=function(a){snd.AudioUnit.prototype.loadData.apply(this,arguments),this.volume=null!=a.volume?a.volume:1},snd.Source.loadJSON=function(a){var b=JSON.parse(a);if(!b.isSource)throw new snd.Exception("This JSON String is not instance of 'snd.Source' class.");var c=new snd.Source("");return c.loadData(b),c},snd.Source.Status=function(){snd.AudioUnit.Status.apply(this,arguments),this.type=snd.srctype.NONE,this.status=snd.status.NONE,this.volume=1,this.isSource=!0,this.className=snd.Source.CLASS_NAME}}),snd.CLASS_DEF.push(function(){snd.Analyser=function(){snd.AudioUnit.apply(this,arguments),this._analyser=snd.AUDIO_CONTEXT.createAnalyser(),this.resetBufferSize(),Object.defineProperties(this,{channelCount:{get:function(){return this._status.channelCount},set:function(a){this._output.channelCount=a,this._connector.channelCount=a,this._analyser.channelCount=a,this._status.channelCount=a}},channelCountMode:{get:function(){return this._status.channelCountMode},set:function(a){this._output.channelCountMode=a,this._connector.channelCountMode=a,this._analyser.channelCountMode=a,this._status.channelCountMode=a}},channelInterpretation:{get:function(){return this._status.channelInterpretation},set:function(a){this._output.channelInterpretation=a,this._connector.channelInterpretation=a,this._analyser.channelInterpretation=a,this._status.channelInterpretation=a}},floatFrequencyData:{get:function(){return this._analyser.getFloatFrequencyData(this._floatFrequencyDataBuffer),this._floatFrequencyDataBuffer}},byteFrequencyData:{get:function(){return this._analyser.getByteFrequencyData(this._byteFrequencyDataBuffer),this._byteFrequencyDataBuffer}},floatTimeDomainData:{get:function(){return this._analyser.getFloatTimeDomainData(this._floatTimeDomainDataBuffer),this._floatTimeDomainDataBuffer}},byteTimeDomainData:{get:function(){return this._analyser.getByteTimeDomainData(this._byteTimeDomainDataBuffer),this._byteTimeDomainDataBuffer}},fftSize:{get:function(){return this._analyser.fftSize},set:function(a){var b=parseInt(a);this._analyser.fftSize=b,this.resetBufferSize()}},frequencyBinCount:{get:function(){return this._analyser.frequencyBinCount}},minDecibels:{get:function(){return this._analyser.minDecibels},set:function(a){var b=parseFloat(a);this._analyser.minDecibels=b}},maxDecibels:{get:function(){return this._analyser.maxDecibels},set:function(a){var b=parseFloat(a);this._analyser.maxDecibels=b}},smoothingTimeConstant:{get:function(){return this._analyser.smoothingTimeConstant},set:function(a){var b=parseFloat(a);this._analyser.smoothingTimeConstant=b}}}),this._status.smoothingTimeConstant=this._analyser.smoothingTimeConstant,this._status.fftSize=this._analyser.fftSize,this._status.maxDecibels=this._analyser.maxDecibels,this._status.minDecibels=this._analyser.minDecibels},snd.Analyser.prototype=Object.create(snd.AudioUnit.prototype),snd.Analyser.prototype.constructor=snd.Gain,snd.Analyser.prototype.connect=function(a,b,c){snd.AudioUnit.prototype.connect.apply(this,arguments),null!=a.getConnector?this._analyser.connect(a.getConnector(),b,c):this._analyser.connect(a,b,c)},snd.Analyser.prototype.disconnect=function(a,b){snd.AudioUnit.prototype.disconnect.apply(this,arguments),null!=a.getConnector?this._analyser.disconnect(a.getConnector(),b):this._analyser.disconnect(a,b)},snd.Analyser.prototype.createStatus=function(){return new snd.Analyser.Status},snd.Analyser.prototype.getConnector=function(){return this._analyser},snd.Analyser.prototype.loadData=function(a){snd.AudioUnit.prototype.loadData.apply(this,arguments),this.fftSize=a.fftSize,this.maxDecibels=a.maxDecibels,this.smoothingTimeConstant=a.smoothingTimeConstant},snd.Analyser.prototype.resetBufferSize=function(){this._byteFrequencyDataBuffer=new Uint8Array(this._analyser.frequencyBinCount),this._floatFrequencyDataBuffer=new Float32Array(this._analyser.frequencyBinCount),this._byteTimeDomainDataBuffer=new Uint8Array(this._analyser.fftSize),this._floatTimeDomainDataBuffer=new Float32Array(this._analyser.fftSize)},snd.Analyser.Status=function(){snd.AudioUnit.Status.apply(this,arguments),this.fftSize=2048,this.maxDecibels=-30,this.minDecibels=-100,this.smoothingTimeConstant=.1},snd.Analyser.Status.prototype=Object.create(snd.AudioUnit.Status.prototype),snd.Analyser.Status.prototype.constructor=snd.Analyser.Status}),snd.CLASS_DEF.push(function(){snd.BiquadFilter=function(){snd.AudioUnit.apply(this,arguments),this._connector=snd.AUDIO_CONTEXT.createGain(),this._output=snd.AUDIO_CONTEXT.createGain(),this._filter=snd.AUDIO_CONTEXT.createBiquadFilter(),this._connector.connect(this._filter),this._filter.connect(this._output),Object.defineProperties(this,{channelCount:{get:function(){return this._status.channelCount},set:function(a){this._connector.channelCount=a,this._output.channelCount=a,this._filter.channelCount=a,this._status.channelCount=a}},channelCountMode:{get:function(){return this._status.channelCountMode},set:function(a){this._connector.channelCountMode=a,this._output.channelCountMode=a,this._filter.channelCountMode=a,this._status.channelCountMode=a}},channelInterpretation:{get:function(){return this._status.channelInterpretation},set:function(a){this._connector.channelInterpretation=a,this._output.channelInterpretation=a,this._filter.channelInterpretation=a,this._status.channelInterpretation=a}},type:{get:function(){return this._filter.type},set:function(a){this._filter.type=a,this._status.type=a}},frequency:{get:function(){return this._filter.frequency.value},set:function(a){var b=parseFloat(a);this._filter.frequency.value=b,this._status.frequency=b}},frequencyParam:{get:function(){var a=this._filter.frequency;return a.id=this.id+".frequency",a}},detune:{get:function(){return this._filter.detune.value},set:function(a){var b=parseFloat(a);this._filter.detune.value=b,this._status.detune=b}},detuneParam:{get:function(){var a=this._filter.detune;return a.id=this.id+".detune",a}},Q:{get:function(){return this._filter.Q.value},set:function(a){var b=parseFloat(a);this._filter.Q.value=b,this._status.Q=b}},QParam:{get:function(){var a=this._filter.Q;return a.id=this.id+".Q",a}},gain:{get:function(){return this._filter.gain.value},set:function(a){var b=parseFloat(a);this._filter.gain.value=b,this._status.gain=b}},gainParam:{get:function(){var a=this._filter.gain;return a.id=this.id+".gain",a}}})},snd.BiquadFilter.prototype=Object.create(snd.AudioUnit.prototype),snd.BiquadFilter.prototype.constructor=snd.Gain,snd.BiquadFilter.prototype.connect=function(a,b,c){snd.AudioUnit.prototype.connect.apply(this,arguments),null!=a.getConnector?this._output.connect(a.getConnector(),b,c):this._output.connect(a,b,c)},snd.BiquadFilter.prototype.disconnect=function(a,b){snd.AudioUnit.prototype.disconnect.apply(this,arguments),null!=a.getConnector?this._output.disconnect(a.getConnector(),b):this._output.disconnect(a,b)},snd.BiquadFilter.prototype.createStatus=function(){return new snd.BiquadFilter.Status},snd.BiquadFilter.prototype.getConnector=function(){return this._connector},snd.BiquadFilter.prototype.loadData=function(){snd.AudioUnit.prototype.loadData.apply(this,arguments)},snd.BiquadFilter.Status=function(){snd.AudioUnit.Status.apply(this,arguments),this.type=snd.LOWPASS,this.frequency=350,this.detune=0,this.Q=1,this.gain=0},snd.BiquadFilter.Status.prototype=Object.create(snd.AudioUnit.Status.prototype),snd.BiquadFilter.Status.prototype.constructor=snd.BiquadFilter.Status}),snd.CLASS_DEF.push(function(){snd.BufferSource=function(){snd.Source.apply(this,arguments),this._source=null,this.audioBuffer=null,this._key="",Object.defineProperties(this,{loop:{get:function(){return this._status.loop},set:function(a){this._source&&a&&(this._source.loop=a,this._status.loop=a)}},loopStart:{get:function(){return this._status.loopStart},set:function(a){var b=parseFloat(a);this._source&&b&&(this._source.loopStart=b,this._status.loopStart=b)}},loopEnd:{get:function(){return this._status.loopEnd},set:function(a){var b=parseFloat(a);null!=this._source&&null!=b&&(this._source.loopEnd=b,this._status.loopEnd=b)}}}),this._eventListeners={onended:[],onload:[]}},snd.BufferSource.prototype=Object.create(snd.Source.prototype),snd.BufferSource.prototype.constructor=snd.BufferSource,snd.BufferSource.CLASS_NAME="snd.BufferSource",snd.BufferSource.REGEX_KEY=/^key:(.*)$/,snd.BufferSource.prototype.start=function(a,b,c){null!=this._source&&this.status==snd.status.READY?(null==a?this._source.start(0):null==b?this._source.start(a):null==c?this._source.start(a,b):this._source.start(a,b,c),this._status.status=snd.status.STARTED):null!=this.audioBuffer&&(this.status==snd.status.STARTED?(this.stop(0),this._status.status=snd.status.STOPPED):this.setAudioBuffer(this.audioBuffer),this.start(a,b,c))},snd.BufferSource.prototype.stop=function(a){null!=this._source&&this.status==snd.status.STARTED&&this._source.stop(null==a?0:a)},snd.BufferSource.prototype.setLoop=function(a){this.loop=a},snd.BufferSource.prototype.getLoop=function(){return this.loop},snd.BufferSource.prototype.setLoopStart=function(a){this.loopStart=a},snd.BufferSource.prototype.getLoopStart=function(){return this.loopStart},snd.BufferSource.prototype.setLoopEnd=function(a){this.loopEnd=a},snd.BufferSource.prototype.getLoopEnd=function(){return this.loopEnd},snd.BufferSource.prototype.loadURL=function(a){var b=this;this._status.src=a;var c=snd.AUDIO_DATA_MANAGER.getAudioBuffer(a);c?(this.setAudioBuffer(c),b.fireOnLoadEvent()):(this._key=a,snd.AUDIO_DATA_MANAGER.add(this._key,a),snd.AUDIO_DATA_MANAGER.addOnLoadListener(this._key,function(){var a=snd.AUDIO_DATA_MANAGER.getAudioBuffer(b._key);b.setAudioBuffer(a),b.fireOnLoadEvent()}),snd.AUDIO_DATA_MANAGER.load(this._key))},snd.BufferSource.prototype.loadBase64=function(a){var b=this;this._status.src=null!=snd.util.REGEX_DATA_URI_SCHEME.exec(a)?a:"data:audio/unknown;base64,"+a,this._key=snd.util.getNewKey(this.id),snd.AUDIO_DATA_MANAGER.addBase64(this._key,a),snd.AUDIO_DATA_MANAGER.addOnLoadListener(this._key,function(){var a=snd.AUDIO_DATA_MANAGER.getAudioBuffer(b._key);b.setAudioBuffer(a),b.fireOnLoadEvent()}),snd.AUDIO_DATA_MANAGER.load(this._key)},snd.BufferSource.prototype.loadAudioBuffer=function(a){this._status.src="key:"+a;var b=snd.AUDIO_DATA_MANAGER.getAudioBuffer(a);this.setAudioBuffer(b),this.fireOnLoadEvent()},snd.BufferSource.prototype.setAudioBuffer=function(a){this.audioBuffer=a;var b=snd.AUDIO_CONTEXT.createBufferSource();null!=this._source&&this._source.disconnect(this._gain),delete this._source,this._source=b,this._source.buffer=this.audioBuffer,this._source.connect(this._gain),this.resetEventMethods(this._source),this._source.loop=this.loop,null!=this.loopStart&&(this._source.loopStart=this.loopStart),null!=this.loopEnd&&(this._source.loopEnd=this.loopEnd),this._status.status=snd.status.READY},snd.BufferSource.prototype.addOnEndedEventListener=function(a){this._eventListeners.onended.push(a)},snd.BufferSource.prototype.removeOnEndedEventListener=function(a){var b=this._eventListeners.onended.indexOf(a);return b>0?(this._eventListeners.onended.splice(b),!0):!1},snd.BufferSource.prototype.fireOnEndedEvent=function(){var a=this,b=this._eventListeners.onended;for(i=0;i<b.length;i++)b[i].onended(a)},snd.BufferSource.prototype.addOnLoadEventListener=function(a){this._eventListeners.onload.push(a)},snd.BufferSource.prototype.removeOnLoadEventListener=function(a){var b=this._eventListeners.onload.indexOf(a);return b>0?(this._eventListeners.onload.splice(i,1),!0):!1},snd.BufferSource.prototype.fireOnLoadEvent=function(){var a=this,b=this._eventListeners.onload;for(i=0;i<b.length;i++)b[i].onload(a)},snd.BufferSource.prototype.resetEventMethods=function(){var a=this;this._source.onended=function(){a._status.status=snd.status.STOPPED,a.fireOnEndedEvent()}},snd.BufferSource.prototype.createStatus=function(){return new snd.BufferSource.Status},snd.BufferSource.prototype.toJSON=function(){return this._status},snd.BufferSource.prototype.loadData=function(a){snd.Source.prototype.loadData.apply(this,arguments);var b=snd.util.REGEX_DATA_URI_SCHEME.exec(a.src),c=snd.BufferSource.REGEX_KEY.exec(a.src);null!=b?this.loadBase64(a.src):null!=c?this.loadAudioBuffer(c[1]):a.src&&this.loadURL(a.src),1==a.loop&&(this.loop=!0),this.loopStart=a.loopStart,this.loopEnd=a.loopEnd},snd.BufferSource.loadJSON=function(a){var b=JSON.parse(a);if(b.className!=snd.BufferSource.CLASS_NAME)throw new snd.Exception(b.id+" is not instance of 'snd.BufferSource' class.");var c=new snd.BufferSource("");return c.loadData(b),c},snd.BufferSource.Status=function(){snd.Source.Status.apply(this,arguments),this.className="snd.BufferSource",this.type=snd.srctype.AUDIO_BUFFER,this.loop=!1,this.loopStart=null,this.loopEnd=null,this.src=""}}),snd.CLASS_DEF.push(function(){snd.Convolver=function(){snd.AudioUnit.apply(this,arguments),this._connector=snd.AUDIO_CONTEXT.createGain(),this._output=snd.AUDIO_CONTEXT.createGain(),this._convolver=snd.AUDIO_CONTEXT.createConvolver(),this._status.audioBuffer=this._convolver.buffer,this._connector.connect(this._convolver),this._convolver.connect(this._output),this._key="",Object.defineProperties(this,{channelCount:{get:function(){return this._status.channelCount},set:function(a){this._output.channelCount=a,this._connector.channelCount=a,this._convolver.channelCount=a,this._status.channelCount=a}},channelCountMode:{get:function(){return this._status.channelCountMode},set:function(a){this._output.channelCountMode=a,this._conector.channelCountMode=a,this._convolver.channelCountMode=a,this._status.channelCountMode=a}},channelInterpretation:{get:function(){return this._status.channelInterpretation},set:function(a){this._output.channelInterpretation=a,this._connector.channelInterpretation=a,this._convolver.channelInterpretation=a,this._status.channelInterpretation=a}},buffer:{get:function(){return this._convolver.buffer},set:function(a){this._convolver.buffer=a}},normalize:{get:function(){return this._convolver.normalize},set:function(a){this._convolver.normalize=a,this.buffer=this.buffer}}}),this.channelCount=this._status.channelCount},snd.Convolver.prototype=Object.create(snd.AudioUnit.prototype),snd.Convolver.prototype.constructor=snd.Gain,snd.Convolver.prototype.connect=function(a,b,c){snd.AudioUnit.prototype.connect.apply(this,arguments),null!=a.getConnector?this._output.connect(a.getConnector(),b,c):this._output.connect(a,b,c)},snd.Convolver.prototype.disconnect=function(a,b){snd.AudioUnit.prototype.disconnect.apply(this,arguments),null!=a.getConnector?this._output.disconnect(a.getConnector(),b):this._output.disconnect(a,b)},snd.Convolver.prototype.createStatus=function(){return new snd.Convolver.Status},snd.Convolver.prototype.getConnector=function(){return this._connector},snd.Convolver.prototype.loadURL=function(a){var b=this;this._status.src=a,this._key=a;var c=snd.AUDIO_DATA_MANAGER.getAudioBuffer(this._key);c?this.buffer=c:(snd.AUDIO_DATA_MANAGER.add(this._key,a),snd.AUDIO_DATA_MANAGER.addOnLoadListener(this._key,function(){b.buffer=snd.AUDIO_DATA_MANAGER.getAudioBuffer(b._key)}),snd.AUDIO_DATA_MANAGER.load(this._key))},snd.Convolver.prototype.loadBase64=function(a){var b=this;this._status.src=null!=snd.util.REGEX_DATA_URI_SCHEME.exec(a)?a:"data:audio/unknown;base64,"+a,this._key=snd.util.getNewKey(this.id),snd.AUDIO_DATA_MANAGER.addBase64(this._key,a),snd.AUDIO_DATA_MANAGER.addOnLoadListener(this._key,function(){b.buffer=snd.AUDIO_DATA_MANAGER.getAudioBuffer(b._key)}),snd.AUDIO_DATA_MANAGER.load(this._key)},snd.Convolver.prototype.loadAudioBuffer=function(a){this._key=a,this.buffer=snd.AUDIO_DATA_MANAGER.getAudioBuffer(a),this._status.src="key:"+a},snd.Convolver.prototype.loadData=function(a){snd.AudioUnit.prototype.loadData.apply(this,arguments),this._status.src=a.src,snd.util.isAudioManagerKey(this._status.src)?this.loadAudioBuffer(snd.util.stripAudioManagerKey(this._status.src)):snd.util.isDataURI(this._status.src)?this.loadBase64(this._status.src):this.loadURL(this._status.src),this._status.normalize=a.normalize},snd.Convolver.Status=function(){snd.AudioUnit.Status.apply(this,arguments),this.src="",this.normalize=!0},snd.Convolver.Status.prototype=Object.create(snd.AudioUnit.Status.prototype),snd.Convolver.Status.prototype.constructor=snd.Convolver.Status}),snd.CLASS_DEF.push(function(){snd.DynamicsCompressor=function(){snd.AudioUnit.apply(this,arguments),this._output=snd.AUDIO_CONTEXT.createGain(),this._connector=snd.AUDIO_CONTEXT.createGain(),this._compressor=snd.AUDIO_CONTEXT.createDynamicsCompressor(),this._connector.connect(this._compressor),this._compressor.connect(this._output),Object.defineProperties(this,{channelCount:{get:function(){return this._status.channelCount},set:function(a){this._connector.channelCount=a,this._output.channelCount=a,this._compressor.channelCount=a,this._status.channelCount=a}},channelCountMode:{get:function(){return this._status.channelCountMode},set:function(a){this._connector.channelCountMode=a,this._output.channelCountMode=a,this._compressor.channelCountMode=a,this._status.channelCountMode=a}},channelInterpretation:{get:function(){return this._status.channelInterpretation},set:function(a){this._connector.channelInterpretation=a,this._output.channelInterpretation=a,this._compressor.channelInterpretation=a,this._status.channelInterpretation=a
}},attack:{get:function(){return this._compressor.attack.value},set:function(a){var b=parseFloat(a);this._compressor.attack.value=b,this._status.attack=b}},attackParam:{get:function(){var a=this._compressor.attack;return a.id=this.id+".attack",a}},knee:{get:function(){return this._compressor.knee.value},set:function(a){var b=parseFloat(a);this._compressor.knee.value=b,this._status.knee=b}},kneeParam:{get:function(){var a=this._compressor.knee;return a.id=this.id+".knee",a}},ratio:{get:function(){return this._compressor.ratio.value},set:function(a){var b=parseFloat(a);this._compressor.ratio.value=b,this._status.ratio=b}},ratioParam:{get:function(){var a=this._compressor.ratio;return a.id=this.id+".ratio",a}},reduction:{get:function(){return this._compressor.reduction.value}},release:{get:function(){return this._compressor.release.value},set:function(a){var b=parseFloat(a);this._compressor.release.value=b,this._status.release=b}},releaseParam:{get:function(){var a=this._compressor.release;return a.id=this.id+".release",a}},threshold:{get:function(){return this._compressor.threshold.value},set:function(a){var b=parseFloat(a);this._compressor.threshold.value=b,this._status.threshold=b}},thresholdParam:{get:function(){var a=this._compressor.threshold;return a.id=this.id+".threshold",a}}})},snd.DynamicsCompressor.prototype=Object.create(snd.AudioUnit.prototype),snd.DynamicsCompressor.prototype.constructor=snd.Gain,snd.DynamicsCompressor.prototype.connect=function(a,b,c){snd.AudioUnit.prototype.connect.apply(this,arguments),null!=a.getConnector?this._output.connect(a.getConnector(),b,c):this._output.connect(a,b,c)},snd.DynamicsCompressor.prototype.disconnect=function(a,b){snd.AudioUnit.prototype.disconnect.apply(this,arguments),null!=a.getConnector?this._output.disconnect(a.getConnector(),b):this._output.disconnect(a,b)},snd.DynamicsCompressor.prototype.createStatus=function(){return new snd.DynamicsCompressor.Status},snd.DynamicsCompressor.prototype.getConnector=function(){return this._connector},snd.DynamicsCompressor.prototype.loadData=function(a){snd.AudioUnit.prototype.loadData.apply(this,arguments),this.attack=a.attack,this.knee=a.knee,this.ratio=a.ratio,this.threshold=a.threshold,this.release=a.release},snd.DynamicsCompressor.Status=function(){snd.AudioUnit.Status.apply(this,arguments),this.attack=.003,this.knee=30,this.ratio=12,this.threshold=-24,this.release=.25},snd.DynamicsCompressor.Status.prototype=Object.create(snd.AudioUnit.Status.prototype),snd.DynamicsCompressor.Status.prototype.constructor=snd.DynamicsCompressor.Status}),snd.CLASS_DEF.push(function(){snd.Delay=function(){snd.AudioUnit.apply(this,arguments),this._output=snd.AUDIO_CONTEXT.createGain(),this._connector=snd.AUDIO_CONTEXT.createGain(),this._delay=snd.AUDIO_CONTEXT.createDelay(this._status.maxDelayTime),this._delay.delayTime.value=0,this._connector.connect(this._delay),this._delay.connect(this._output),Object.defineProperties(this,{channelCount:{get:function(){return this._status.channelCount},set:function(a){this._delay.channelCount=a,this._output.channelCount=a,this._connector.channelCount=a,this._status.channelCount=a}},channelCountMode:{get:function(){return this._status.channelCountMode},set:function(a){this._delay.channelCountMode=a,this._status.channelCountMode=a}},channelInterpretation:{get:function(){return this._status.channelInterpretation},set:function(a){this._delay.channelCountInterpretation=a,this._status.channelInterpretation=a}},maxDelay:{get:function(){return this._status.maxDelay},set:function(a){var b=parseFloat(a);b>0&&180>b?(this._connector.disconnect(this._delay),delete this._delay,this._delay=snd.AUDIO_CONTEXT.createDelay(b),this._delay.delayTime.value=this._status.delayTime,this._connector.connect(this._delay),this._delay.connect(this._output),this._status.maxDelay=b):0>b?cosole.log("maxDelay must grater than 0"):console.log("maxDelay must lesser than 180")}},delayTime:{get:function(){return this._status.delayTime},set:function(a){var b=parseFloat(a);b>=0&&180>b?(this._delay.delayTime.value=b,this._status.delayTime=b):0>b?cosole.log("delayTime must grater than 0"):console.log("delayTime must lesser than 180")}},delayTimeParam:{get:function(){return this._delay.delayTime}}})},snd.Delay.prototype=Object.create(snd.AudioUnit.prototype),snd.Delay.prototype.constructor=snd.Gain,snd.Delay.prototype.connect=function(a,b,c){snd.AudioUnit.prototype.connect.apply(this,arguments),null!=a.getConnector?this._output.connect(a.getConnector(),b,c):this._output.connect(a,b,c)},snd.Delay.prototype.disconnect=function(a,b){snd.AudioUnit.prototype.disconnect.apply(this,arguments),null!=a.getConnector?this._output.disconnect(a.getConnector(),b):this._output.disconnect(a,b)},snd.Delay.prototype.createStatus=function(){return new snd.Delay.Status},snd.Delay.prototype.getConnector=function(){return this._connector},snd.Delay.prototype.loadData=function(a){snd.AudioUnit.prototype.loadData.apply(this,arguments),this.maxDelayTime=a.maxDelayTime,this.delayTime=a.delayTime},snd.Delay.Status=function(){snd.AudioUnit.Status.apply(this,arguments),this.delayTime=0,this.maxDelayTime=60},snd.Delay.Status.prototype=Object.create(snd.AudioUnit.Status.prototype),snd.Delay.Status.prototype.constructor=snd.Delay.Status}),snd.CLASS_DEF.push(function(){snd.Gain=function(){snd.AudioUnit.apply(this,arguments),this._gain=snd.AUDIO_CONTEXT.createGain(),this._gain.channelCount=this._status.channelCount,Object.defineProperties(this,{channelCount:{get:function(){return this._status.channelCount},set:function(a){this._gain.channelCount=a,this._status.channelCount=a}},channelCountMode:{get:function(){return this._status.channelCountMode},set:function(a){this._gain.channelCountMode=a,this._status.channelCountMode=a}},channelInterpretation:{get:function(){return this._status.channelInterpretation},set:function(a){this._gain.channelInterpretation=a,this._status.channelInterpretation=a}},gain:{get:function(){return this._gain.gain.value},set:function(a){var b=parseFloat(a);this._gain.gain.value=b,this._status.gain=b}},gainParam:{get:function(){var a=this._gain.gain;return a.id=this.id+".gain",a}}})},snd.Gain.prototype=Object.create(snd.AudioUnit.prototype),snd.Gain.prototype.constructor=snd.Gain,snd.Gain.prototype.connect=function(a,b,c){snd.AudioUnit.prototype.connect.apply(this,arguments),null!=a.getConnector?this._gain.connect(a.getConnector(),b,c):this._gain.connect(a,b,c)},snd.Gain.prototype.disconnect=function(a,b){snd.AudioUnit.prototype.disconnect.apply(this,arguments),null!=a.getConnector?this._gain.disconnect(a.getConnector(),b):this._gain.disconnect(a,b)},snd.Gain.prototype.createStatus=function(){return new snd.Gain.Status},snd.Gain.prototype.getConnector=function(){return this._gain},snd.Gain.prototype.loadData=function(a){snd.AudioUnit.prototype.loadData.apply(this,arguments),this.gain=a.gain},snd.Gain.Status=function(){snd.AudioUnit.Status.apply(this,arguments),this.gain=1},snd.Gain.Status.prototype=Object.create(snd.AudioUnit.Status.prototype),snd.Gain.Status.prototype.constructor=snd.Gain.Status}),snd.CLASS_DEF.push(function(){snd.MediaElementAudioSource=function(a,b){snd.Source.apply(this,arguments),this.id=a,this.listeners={onplay:[],onpause:[],onended:[],onabort:[],oncanplay:[],oncanplaythrough:[],ondurationchange:[],onemptied:[],onerror:[],onloadeddata:[],onloadedmetadata:[],onloadstart:[],onplaying:[],onprogress:[],onratechange:[],onseeked:[],onseeking:[],onstalled:[],onsuspend:[],ontimeupdate:[],onvolumechange:[],onwaiting:[]},Object.defineProperties(this,{element:{get:function(){return this._element},set:function(a){var b=this;this._source=snd.AUDIO_CONTEXT.createMediaElementSource(a),this._source.connect(this._gain),this._element=a,null!=this._element.id&&(this._status.element=this._element.id),this._element.onplay=function(){b._status.status=snd.status.STARTED;for(var a=0;a<b.listeners.onplay.length;a++)b.listeners.onplay[a](b)},this._element.onpause=function(){b._status.status=snd.status.PAUSED;for(var a=0;a<b.listeners.onpause.length;a++)b.listeners.onpause[a](b)},this._element.onended=function(){b._status.status=snd.status.PAUSED;for(var a=0;a<b.listeners.onended.length;a++)b.listeners.onended[a](b)},this._element.onabort=function(){for(var a=0;a<b.listeners.onabort.length;a++)b.listeners.onabort[a](b)},this._element.oncanplay=function(){b.status==snd.status.NONE&&(b._status.status=snd.status.READY);for(var a=0;a<b.listeners.oncanplay.length;a++)b.listeners.oncanplay[a](b)},this._element.oncanplaythrough=function(){for(var a=0;a<b.listeners.oncanplaythrough.length;a++)b.listeners.oncanplaythrough[a](b)},this._element.ondurationchange=function(){for(var a=0;a<b.listeners.ondurationchange.length;a++)b.listeners.ondurationchange[a](b)},this._element.onemptied=function(){for(var a=0;a<b.listeners.onemptied.length;a++)b.listeners.onemptied[a](b)},this._element.onerror=function(){for(var a=0;a<b.listeners.onerror.length;a++)b.listeners.onerror[a](b)},this._element.onloadeddata=function(){for(var a=0;a<b.listeners.onloadeddata.length;a++)b.listeners.onloadeddata[a](b)},this._element.onloadedmetadata=function(){for(var a=0;a<b.listeners.onloadedmetadata.length;a++)b.listeners.onloadedmetadata[a](b)},this._element.onloadedstart=function(){for(var a=0;a<b.listeners.onloadstart.length;a++)b.listeners.onloadstart[a](b)},this._element.onplaying=function(){for(var a=0;a<b.listeners.onplaying.length;a++)b.listeners.onplaying[a](b)},this._element.onprogress=function(){for(var a=0;a<b.listeners.onprogress.length;a++)b.listeners.onprogress[a](b)},this._element.onratechange=function(){for(var a=0;a<b.listeners.onratechange.length;a++)b.listeners.onratechange[a](b)},this._element.onseeked=function(){for(var a=0;a<b.listeners.onseeked.length;a++)b.listeners.onseeked[a](b)},this._element.onseeking=function(){for(var a=0;a<b.listeners.onseeking.length;a++)b.listeners.onseeking[a](b)},this._element.onstalled=function(){for(var a=0;a<b.listeners.onstalled.length;a++)b.listeners.onstalled[a](b)},this._element.onsuspend=function(){for(var a=0;a<b.listeners.onsuspend.length;a++)b.listeners.onsuspend[a](b)},this._element.ontimeupdate=function(){for(var a=0;a<b.listeners.ontimeupdate.length;a++)b.listeners.ontimeupdate[a](b)},this._element.onvolumechange=function(){for(var a=0;a<b.listeners.onvolumechange.length;a++)b.listeners.onvolumechange[a](b)},this._element.onwaiting=function(){for(var a=0;a<b.listeners.onwaiting.length;a++)b.listeners.onwaiting[a](b)}}},src:{get:function(){return this._element.src},set:function(a){this._element.src=a}}}),null!=b&&(this.element=b)},snd.MediaElementAudioSource.prototype=Object.create(snd.Source.prototype),snd.MediaElementAudioSource.prototype.constructor=snd.MediaElementAudioSource,snd.MediaElementAudioSource.CLASS_NAME="snd.MediaElementAudioSource",snd.MediaElementAudioSource.prototype.load=function(){this._element.load()},snd.MediaElementAudioSource.prototype.start=function(){this._element.play()},snd.MediaElementAudioSource.prototype.pause=function(){this._element.pause()},snd.MediaElementAudioSource.prototype.stop=function(){this._element.pause(),this._element.currentTime=0},snd.MediaElementAudioSource.prototype.setLoop=function(a){this._element.loop=a},snd.MediaElementAudioSource.prototype.addOnPlayEventListener=function(a){this.listeners.onplay.push(a)},snd.MediaElementAudioSource.prototype.removeOnPlayEventListener=function(a){for(var b=this.listeners.onplay,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnPauseEventListener=function(a){this.listeners.onPause.push(a)},snd.MediaElementAudioSource.prototype.removeOnPauseEventListener=function(a){for(var b=this.listeners.onPause,c=0;c<b.length;c++)if(b[c]===a){b.splice(c,1);break}},snd.MediaElementAudioSource.prototype.addOnEndedEventListener=function(a){this.listeners.onended.push(a)},snd.MediaElementAudioSource.prototype.removeOnEndedEventListener=function(a){for(var b=this.listeners.onended,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnAbortEventListener=function(a){this.listeners.onabort.push(a)},snd.MediaElementAudioSource.prototype.removeOnAbortEventListener=function(a){for(var b=this.listeners.onabort,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnCanPlayEventListener=function(a){this.listeners.oncanplay.push(a)},snd.MediaElementAudioSource.prototype.removeOnCanPlayEventListener=function(a){for(var b=this.listeners.oncanplay,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnCanPlayThroughEventListener=function(a){this.listeners.oncanplaythrough.push(a)},snd.MediaElementAudioSource.prototype.removeOnCanPlayThroughEventListener=function(a){for(var b=this.listeners.onplaythrough,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnDurationChangeEventListener=function(a){this.listeners.ondurationchange.push(a)},snd.MediaElementAudioSource.prototype.removeOnCanPlayThroughEventListener=function(a){for(var b=this.listeners.ondurationchange,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnEmptiedEventListener=function(a){this.listeners.onemptied.push(a)},snd.MediaElementAudioSource.prototype.removeOnEmptiedEventListener=function(a){for(var b=this.listeners.onemptied,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnErrorEventListener=function(a){this.listeners.onerror.push(a)},snd.MediaElementAudioSource.prototype.removeOnErrorEventListener=function(a){for(var b=this.listeners.onerror,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnLoadedDataEventListener=function(a){this.listeners.onloadeddata.push(a)},snd.MediaElementAudioSource.prototype.removeOnLoadedDataEventListener=function(a){for(var b=this.listeners.onloadeddata,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnLoadedMetadataEventListener=function(a){this.listeners.onloadedmetadata.push(a)},snd.MediaElementAudioSource.prototype.removeOnLoadedMetaDataEventListener=function(a){for(var b=this.listeners.onloadedmetadata,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnLoadStartEventListener=function(a){this.listeners.onloadstart.push(a)},snd.MediaElementAudioSource.prototype.removeOnLoadStartEventListener=function(a){for(var b=this.listeners.onloadstart,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnPlayingEventListener=function(a){this.listeners.onPlaying.push(a)},snd.MediaElementAudioSource.prototype.removeOnPlayingEventListener=function(a){for(var b=this.listeners.onPlaying,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnProgressEventListener=function(a){this.listeners.onprogress.push(a)},snd.MediaElementAudioSource.prototype.removeOnProgressEventListener=function(a){for(var b=this.listeners.onprogress,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnRateChangeEventListener=function(a){this.listeners.onratechange.push(a)},snd.MediaElementAudioSource.prototype.removeOnRateChangeEventListener=function(a){for(var b=this.listeners.onratechange,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnSeekedEventListener=function(a){this.listeners.onseeked.push(a)},snd.MediaElementAudioSource.prototype.removeOnSeekedEventListener=function(a){for(var b=this.listeners.onseeked,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnSeekingEventListener=function(a){this.listeners.onseeking.push(a)},snd.MediaElementAudioSource.prototype.removeOnSeekingEventListener=function(a){for(var b=this.listeners.onseeking,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnStalledEventListener=function(a){this.listeners.onstalled.push(a)},snd.MediaElementAudioSource.prototype.removeOnStalledEventListener=function(a){for(var b=this.listeners.onstalled,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnSuspendEventListener=function(a){this.listeners.onsuspend.push(a)},snd.MediaElementAudioSource.prototype.removeOnSuspendEventListener=function(a){for(var b=this.listeners.onsuspend,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnTimeUpdateEventListener=function(a){this.listeners.ontimeupdate.push(a)},snd.MediaElementAudioSource.prototype.removeOnTimeUpdateEventListener=function(a){for(var b=this.listeners.ontimeupdate,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnVolumeChangeEventListener=function(a){this.listeners.onvolumechange.push(a)},snd.MediaElementAudioSource.prototype.removeOnVolumeChangeEventListener=function(a){for(var b=this.listeners.onvolumechange,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.addOnWaitingEventListener=function(a){this.listeners.onwaiting.push(a)},snd.MediaElementAudioSource.prototype.removeOnWaitingEventListener=function(a){for(var b=this.listeners.onwaiting,c=0;c<b.length;c++)if(b[c]===a)return b.splice(c,1),!0;return!1},snd.MediaElementAudioSource.prototype.createStatus=function(){return new snd.MediaElementAudioSource.Status},snd.MediaElementAudioSource.prototype.toJSON=function(){return this._status},snd.MediaElementAudioSource.prototype.loadData=function(a){if(snd.Source.prototype.loadData.apply(this,arguments),null!=a.element){var b=document.getElementById(a.element);null!=b&&(this.element=b)}},snd.MediaElementAudioSource.loadJSON=function(a){var b=JSON.parse(a);if(b.className!=snd.MediaElementAudioSource.CLASS_NAME)throw new snd.Exception(b.id+" is not instance of 'snd.MediaElementAudioSource' class.");var c=new snd.MediaElementAudioSource("");return c.loadData(b),c},snd.MediaElementAudioSource.Status=function(){snd.Source.Status.apply(this,arguments),this.className=snd.MediaElementAudioSource.CLASS_NAME,this.status=snd.status.NONE,this.element=""},snd.MediaElementAudioSource.Status.prototype=Object.create(snd.Source.Status.prototype),snd.MediaElementAudioSource.Status.prototype.constructor=snd.MediaElementAudioSource.Status}),snd.CLASS_DEF.push(function(){snd.MediaStreamAudioSource=function(a,b,c,d){if(snd.Source.apply(this,arguments),this._status.type=snd.srctype.MEDIA_STREAM,this._status.className="snd.MediaStreamAudioSource",this._status.status=snd.status.NONE,b)this._source=snd.AUDIO_CONTEXT.createMediaStreamSource(b),this._source.connect(this._gain),this._status.status=snd.status.READY;else{var e,f,g=this;e=function(b){g._source=new snd.MediaStreamAudioSource(a,b),g._source.connect(g._gain),g._status.status=snd.status.READY,c&&c(g)},f=d?d:function(a){console.log("getUserMedia failed: "+a)},navigator.getUserMedia?navigator.getUserMedia({audio:!0},e,f):navigator.mozGetUserMedia?navigator.mozGetUserMedia({audio:!0},e,f):navigator.webkitGetUserMedia&&navigator.webkitGetUserMedia({audio:!0},e,f)}},snd.MediaStreamAudioSource.prototype=Object.create(snd.Source.prototype),snd.MediaStreamAudioSource.prototype.constructor=snd.MediaStreamAudioSource,snd.MediaStreamAudioSource.prototype.createSource=function(){return new snd.MediaStreamAudioSource.Status},snd.MediaStreamAudioSource.prototype.toJSON=function(){return this._status},snd.MediaStreamAudioSource.prototype.loadData=function(){snd.Source.prototype.loadData.apply(this,arguments)},snd.MediaStreamAudioSource.Status=function(){snd.Source.Status.apply(this,arguments)},snd.MediaStreamAudioSource.prototype=Object.create(snd.Source.prototype),snd.MediaStreamAudioSource.prototype.constructor=snd.MediaStreamAudioSource}),snd.CLASS_DEF.push(function(){snd.OscillatorSource=function(){snd.Source.apply(this,arguments),this._periodicWave=null,this._source=null,this._frequencyGain=null,this._detuneGain=null,this.listeners={onended:[]},Object.defineProperties(this,{periodicWave:{get:function(){var a={};return a.realArray=this._status.periodicWave.realArray,a.imagArray=this._status.periodicWave.imagArray,a},set:function(a){null==a?(this._periodicWave=null,this._status.periodicWave=null,this._status.oscillatorType==snd.OscillatorSource.CUSTOM&&(this._status.oscillatorType=null),this.setWaveForm()):null==a.realArray||null==a.imagArray?console.warn("periodicWave property must have realArray and imagArray."):(this._status.periodicWave={realArray:a.realArray,imagArray:a.imagArray},this._status.oscillatorType=snd.OscillatorSource.CUSTOM,this.setWaveForm())}},oscillatorType:{get:function(){return this._status.oscillatorType},set:function(a){this._status.oscillatorType=a,this._source&&(this._source.type=a),this._periodicWave=null,this._status.periodicWave=null}},frequency:{get:function(){return null!=this._source?this._source.frequency.value:void 0},set:function(a){null!=this._source&&(this._source.frequency.value=a?parseFloat(a):0,this._status.frequency=this._source.frequency.value)}},frequencyParam:{get:function(){return null!=this._source?(this._frequencyGain.id||(this._frequencyGain.id=this.id+".frequency"),this._frequencyGain):void 0}},detune:{get:function(){return null!=this._source?this._source.detune.value:void 0},set:function(a){null!=this._source&&(this._source.detune.value=a?parseFloat(a):0,this._status.detune=a)}},detuneParam:{get:function(){return null!=this._source?(this._detuneGain.id||(this._detuneGain.id=this.id+".detune"),this._detuneGain):void 0}}}),this.resetOscillator()},snd.OscillatorSource.prototype=Object.create(snd.Source.prototype),snd.OscillatorSource.prototype.constructor=snd.OscillatorSource,snd.OscillatorSource.CLASS_NAME="snd.OscillatorSource",snd.OscillatorSource.DEFAULT_FREQUENCY=440,snd.OscillatorSource.SINE="sine",snd.OscillatorSource.SQUARE="square",snd.OscillatorSource.SAWTOOTH="sawtooth",snd.OscillatorSource.TRIANGLE="triangle",snd.OscillatorSource.CUSTOM="custom",snd.OscillatorSource.prototype.setWaveForm=function(){null!=this._status.periodicWave?(this._periodicWave=snd.AUDIO_CONTEXT.createPeriodicWave(this._status.periodicWave.realArray,this._status.periodicWave.imagArray),this._source.setPeriodicWave(this._periodicWave)):null!=this._status.oscillatorType&&this._status.oscillatorType!=snd.OscillatorSource.CUSTOM?this._source.type=this._status.oscillatorType:(this._source.type=snd.OscillatorSource.SINE,this._status.oscillatorType=snd.OscillatorSource.SINE,this._status.periodicWave=null,this._periodicWave=null)},snd.OscillatorSource.prototype.setOscillatorType=function(a){null!=this._source&&(this._source.type=a)},snd.OscillatorSource.prototype.getOscillatorType=function(){return this.oscillatorType},snd.OscillatorSource.prototype.setFrequency=function(a){this.frequency=a},snd.OscillatorSource.prototype.getFrequency=function(){return this.frequency},snd.OscillatorSource.prototype.setDetune=function(a){this.detune=a},snd.OscillatorSource.prototype.getDetune=function(){return this.detune},snd.OscillatorSource.prototype.setPeriodicWave=function(a,b){this.periodicWave={realArray:a,imagArray:b}},snd.OscillatorSource.prototype.getPeriodicWave=function(){return this._periodicWave},snd.OscillatorSource.prototype.start=function(a){this.status==snd.status.STOPPED&&this.resetOscillator(),null!=this._source&&this.status!=snd.status.STARTED&&this.status!=snd.status.STOPPED&&(this._source.start(null==a?0:a),this._status.status=snd.status.STARTED)},snd.OscillatorSource.prototype.stop=function(a){this.status==snd.status.STARTED&&(this._source.stop(null==a?0:a),this._status.status=snd.status.STOPPED)},snd.OscillatorSource.prototype.resetOscillator=function(){var a=this;null!=this._source&&this.status==snd.status.STARTED&&this.stop(0),this._source=snd.AUDIO_CONTEXT.createOscillator(),this._source.onended=function(){a.fireOnEndedEvent()},this.setWaveForm(),this.detune=this._status.detune,this.frequency=this._status.frequency,this._frequencyGain?this._frequencyGain.setAudioParam(this._source.frequency):this._frequencyGain=this.createParamGain(this._source.frequency),this._detuneGain?this._detuneGain.setAudioParam(this._source.detune):this._detuneGain=this.createParamGain(this._source.detune),this._source.connect(this._gain),this._status.status=snd.status.READY},snd.OscillatorSource.prototype.addOnEndedEventListener=function(a){this.listeners.onended.push(a)},snd.OscillatorSource.prototype.removeOnEndedEventListener=function(a){for(var b=this.listeners.onended,c=0;c<b.length;c++)if(b[c]===a){b.splice(c,1);break}},snd.OscillatorSource.prototype.onended=function(){},snd.OscillatorSource.prototype.fireOnEndedEvent=function(){"function"==typeof this.onended&&this.onended(this);for(var a=this.listeners.onended,b=0;a>b;b++)"function"==typeof a[b]&&a[b](this)},snd.OscillatorSource.prototype.createStatus=function(){return new snd.OscillatorSource.Status},snd.OscillatorSource.prototype.toJSON=function(){return this._status},snd.OscillatorSource.prototype.loadData=function(a){snd.Source.prototype.loadData.apply(this,arguments),null!=a.periodicWave?(this._status.periodicWave=a.periodicWave,this._status.oscillatorType=snd.OscillatorSource.CUSTOM):(this._status.oscillatorType=a.oscillatorType,this._status.periodicWave=null),this.setWaveForm(),this.frequency=a.frequency,this.detune=a.detune},snd.OscillatorSource.loadJSON=function(a){var b=JSON.parse(a);if(b.className!=snd.OscillatorSource.CLASS_NAME)throw new snd.Exception(b.id+" is not instance of 'snd.OscillatorSource' class.");var c=new snd.OscillatorSource("");return c.loadData(b),c},snd.OscillatorSource.Status=function(){snd.Source.Status.apply(this,arguments),this.className=snd.OscillatorSource.CLASS_NAME,this.type=snd.srctype.OSCILLATOR,this.status=snd.status.NONE,this.periodicWave=null,this.oscillatorType=null,this.frequency=snd.OscillatorSource.DEFAULT_FREQUENCY,this.detune=0}}),snd.CLASS_DEF.push(function(){snd.ScriptProcessor=function(){snd.Source.apply(this,arguments),Object.defineProperties(this,{inputChannels:{get:function(){return this._status.inputChannels},set:function(a){this._status.inputChannels!=a&&(this._status.inputChannels=a,this.resetScriptProcessor())}},outputChannels:{get:function(){return this._status.outputChannels},set:function(a){this._status.outputChannels!=a&&(this._status.outputChannels=a,this.resetScriptProcessor())}},bufferLength:{get:function(){return this._status.bufferLength},set:function(a){this._status.bufferLength!=a&&(this._status.bufferLength=a,this.resetScriptProcessor())}},script:{get:function(){return this._status.script},set:function(a){this._status.script=a}}}),this.resetScriptProcessor()},snd.ScriptProcessor.prototype=Object.create(snd.Source.prototype),snd.ScriptProcessor.prototype.constructor=snd.ScriptProcessor,snd.ScriptProcessor.CLASS_NAME="snd.SciptProcessorUnit",snd.ScriptProcessor.prototype.resetScriptProcessor=function(){var _this=this;this._gain.channelCount=this._status.outputChannels,null!=this._unit&&(this._unit.disconnect(this._gain),delete this._unit),this._unit=snd.AUDIO_CONTEXT.createScriptProcessor(this._status.bufferLength,this._status.inputChannels,this._status.outputChannels),this._unit.onaudioprocess=function(evt){null!=_this.script&&("function"==typeof _this.script?_this._status.script(evt):eval(_this._status.script))},this._unit.connect(this._gain)},snd.ScriptProcessor.prototype.createStatus=function(){return new snd.ScriptProcessor.Status},snd.ScriptProcessor.prototype.toJSON=function(){return this._status},snd.ScriptProcessor.prototype.loadData=function(a){snd.Source.prototype.loadData.apply(this,arguments),this._status.inputChannels=a.inputChannels>0?a.inputChannels:0,this._status.outputChannels=a.outputChannels>0?a.outputChannels:0,this._status.bufferLength=a.bufferLength>0?a.bufferLength:0,this._status.script=null!=a.script?a.script:"",this.resetScriptProcessor()},snd.ScriptProcessor.loadJSON=function(a){var b=JSON.parse(a);if(b.className!=snd.ScriptProcessor.CLASS_NAME)throw new snd.Exception(b.id+" is not instanceof 'snd.ScriptProcessorUnit'.");var c=new snd.ScriptProcessor(b.id);return c.loadData(b),c},snd.ScriptProcessor.Status=function(){snd.Source.Status.apply(this,arguments),this.className=snd.ScriptProcessor.CLASS_NAME,this.isSource=!0,this.inputChannels=0,this.outputChannels=1,this.bufferLength=4096,this.script=""},snd.ScriptProcessor.Status.prototype=Object.create(snd.Source.prototype),snd.ScriptProcessor.Status.prototype.constructor=snd.ScriptProcessor.Status}),snd.CLASS_DEF.push(function(){snd.WaveShaper=function(){snd.AudioUnit.apply(this,arguments),this._output=snd.AUDIO_CONTEXT.createGain(),this._connector=snd.AUDIO_CONTEXT.createGain(),this._shaper=snd.AUDIO_CONTEXT.createWaveShaper(),this._connector.connect(this._shaper),this._shaper.connect(this._output),Object.defineProperties(this,{channelCount:{get:function(){return this._status.channelCount},set:function(a){this._output.channelCount=a,this._connector.channelCount=a,this._shaper.channelCount=a,this._status.channelCount=a}},channelCountMode:{get:function(){return this._status.channelCountMode},set:function(a){this._output.channelCountMode=a,this._connector.channelCountMode=a,this._shaper.channelCountMode=a,this._status.channelCountMode=a}},channelInterpretation:{get:function(){return this._status.channelInterpretation},set:function(a){this._output.channelInterpretation=a,this._connector.channelInterpretation=a,this._shaper.channelInterpretation=a,this._status.channelInterpretation=a}},curve:{get:function(){return this._shaper.curve},set:function(a){this._shaper.curve=a,this._status.curve=a}},oversample:{get:function(){return this._shaper.oversample},set:function(a){this._shaper.oversample=a,this._status.oversample=a}},gain:{get:function(){return this._output.gain.value},set:function(a){var b=parseFloat(a);this._output.gain.value=b,this._status.gain=b}}})},snd.WaveShaper.prototype=Object.create(snd.AudioUnit.prototype),snd.WaveShaper.prototype.constructor=snd.Gain,snd.WaveShaper.prototype.connect=function(a,b,c){snd.AudioUnit.prototype.connect.apply(this,arguments),null!=a.getConnector?this._output.connect(a.getConnector(),b,c):this._output.connect(a,b,c)},snd.WaveShaper.prototype.disconnect=function(a,b){snd.AudioUnit.prototype.disconnect.apply(this,arguments),null!=a.getConnector?this._output.disconnect(a.getConnector(),b):this._output.disconnect(a,b)},snd.WaveShaper.prototype.createStatus=function(){return new snd.WaveShaper.Status},snd.WaveShaper.prototype.getConnector=function(){return this._connector},snd.WaveShaper.prototype.loadData=function(a){snd.AudioUnit.prototype.loadData.apply(this,arguments),this.curve=a.curve,this.oversample=a.oversample},snd.WaveShaper.Status=function(){snd.AudioUnit.Status.apply(this,arguments),this.curve=null,this.oversample=snd.WaveShaper.OVERSAMPLE_NONE,this.gain=1},snd.WaveShaper.Status.prototype=Object.create(snd.AudioUnit.Status.prototype),snd.WaveShaper.Status.prototype.constructor=snd.WaveShaper.Status});