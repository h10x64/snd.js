/**
 * snd.js - The Sound Library for JavaScript with WebAudioAPI - v.1.0 beta
 * 
 * The MIT License (MIT)
 * copyright (c) 2014 N_H <h.10x64@gmail.com>
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 **/
snd={VERSION:"1.0.20141224",IS_BETA:!0,ALIAS:"WinterSolstice"},snd._AUDIO_CONTEXT=null,snd._MASTER=null,snd._AUDIO_DATA_MANAGER=null,snd._DOES_MP3_SUPPORTED=!1,snd._DOES_WAV_SUPPORTED=!1,snd._DOES_OGG_SUPPORTED=!1,snd._DOES_AAC_SUPPORTED=!1,snd._DOES_M4A_SUPPORTED=!1,function(){var a=document.createElement("audio");snd._DOES_MP3_SUPPORTED=!(""===a.canPlayType("audio/mpeg;")),snd._DOES_M4A_SUPPORTED=!(""===a.canPlayType('audio/mp4; codecs="mp4a.40.2"')),snd._DOES_AAC_SUPPORTED=snd._DOES_M4A_SUPPORTED,snd._DOES_WAV_SUPPORTED=!(""===a.canPlayType('audio/wav; codecs="1"')),snd._DOES_OGG_SUPPORTED=!(""===a.canPlayType('audio/ogg; codecs="vorbis"')),delete a}(),snd.CLASS_DEF=[],snd.PLUGIN_INIT=[],snd.init=function(){snd.resetAudioContext(),Object.defineProperties(snd,{DOES_MP3_SUPPORTED:{get:function(){return snd._DOES_MP3_SUPPORTED}},DOES_WAV_SUPPORTED:{get:function(){return snd._DOES_WAV_SUPPORTED}},DOES_OGG_SUPPORTED:{get:function(){return snd._DOES_OGG_SUPPORTED}},DOES_AAC_SUPPORTED:{get:function(){return snd._DOES_AAC_SUPPORTED}},DOES_M4A_SUPPORTED:{get:function(){return snd._DOES_M4A_SUPPORTED}},MAX_CHANNEL_COUNT:{writable:!1,value:snd._AUDIO_CONTEXT.destination.maxChannelCount},IDX_2CH_L:{writable:!1,value:0},IDX_2CH_R:{writable:!1,value:1},IDX_4CH_FL:{writable:!1,value:0},IDX_4CH_FR:{writable:!1,value:1},IDX_4CH_RL:{writable:!1,value:2},IDX_4CH_RR:{writable:!1,value:3},IDX_6CH_FL:{writable:!1,value:0},IDX_6CH_FR:{writable:!1,value:1},IDX_6CH_C:{writable:!1,value:2},IDX_6CH_SW:{writable:!1,value:3},IDX_6CH_RL:{writable:!1,value:4},IDX_6CH_RR:{writable:!1,value:5},LOWPASS:{writable:!1,value:"lowpass"},HIGHPASS:{writable:!1,value:"highpass"},BANDPASS:{writable:!1,value:"bandpass"},LOWSHELF:{writable:!1,value:"lowshelf"},HIGHSHELF:{writable:!1,value:"highshelf"},PEAKING:{writable:!1,value:"peaking"},NOTCH:{writable:!1,value:"notch"},ALLPASS:{writable:!1,value:"allpass"},OVERSAMPLE_NONE:{writable:!1,value:"none"},OVERSAMPLE_DOUBLE:{writable:!1,value:"2x"},OVERSAMPLE_QUAD:{writable:!1,value:"4x"},status:{value:function(){var a={};return Object.defineProperties(a,{NONE:{value:"none",writable:!1},READY:{value:"ready",writable:!1},STARTED:{value:"started",writable:!1},PAUSED:{value:"paused",writable:!1},STOPPED:{value:"ended",writable:!1}}),a}(),writable:!1},srctype:{value:function(){var a={};return Object.defineProperties(a,{NONE:{value:"none",writable:!1},AUDIO_BUFFER:{value:"audiobuffer",writable:!1},MEDIA_STREAM:{value:"mediastream",writable:!1},MEDIA_ELEMENT:{value:"mediaelement",writable:!1},OSCILLATOR:{value:"oscillator",writable:!1}}),a}(),writable:!1},oscillatortype:{value:function(){var a={};return Object.defineProperties(a,{SINE:{value:"sine",writable:!1},SQUARE:{value:"square",writable:!1},SAWTOOTH:{value:"sawtooth",writable:!1},TRIANGLE:{value:"triangle",writable:!1}}),a}(),writable:!1},audioparam:{value:function(){var a={};return Object.defineProperties(a,{type:{value:function(){var a={};return Object.defineProperties(a,{SET:{value:"set",writable:!1},LINER:{value:"liner",writable:!1},EXPONENTIALLY:{value:"exponentially",writable:!1}}),a}(),writable:!1}}),a}(),writable:!1},BLOWSER:{get:function(){window.navigator.userAgent.toLowerCase()}},AUDIO_CONTEXT:{get:function(){return snd._AUDIO_CONTEXT}},MASTER:{get:function(){return snd._MASTER}},AUDIO_DATA_MANAGER:{get:function(){return snd._AUDIO_DATA_MANAGER}}});var a=function(){for(var a=0;a<snd.CLASS_DEF.length;a++)snd.CLASS_DEF[a]();for(var a=0;a<snd.PLUGIN_INIT.length;a++)snd.PLUGIN_INIT[a]();snd._MASTER=new snd.AudioMaster,snd._AUDIO_DATA_MANAGER=new snd.AudioDataManager,snd.onload()};"function"==typeof snd.using?snd.using(a):a()},snd.resetAudioContext=function(){null==snd._AUDIO_CONTEXT&&("AudioContext"in window?snd._AUDIO_CONTEXT=new AudioContext:"webkitAudioContext"in window&&(snd._AUDIO_CONTEXT=new webkitAudioContext),snd._AUDIO_CONTEXT.destination.channelCount=snd._AUDIO_CONTEXT.destination.maxChannelCount)},snd.util={},snd.util.REGEX_DATA_URI_SCHEME=/^data:audio.*;base64,(.*)$/,snd.util.REGEX_KEY=/^key:(.*)$/,snd.util.createSources=function(a,b,c,d){var e={};e.MediaElement=null!=a.MediaElement?snd.util.createMediaElementAudioSources(a.MediaElement,b,c):null,null!=a.AudioBuffer?snd.util.createBufferSources(a.AudioBuffer,b,function(a){e.AudioBuffer=a,d(e)}):(e.AudioBuffer=null,d(e))},snd.util.createBufferSources=function(a,b,c){if(!snd.BufferSource)throw new snd.Exception("Please load snd.BufferSource.js");var d={},e={};for(var f in a){var g=a[f];null==d[g]&&(d[g]=[]);var h=new snd.BufferSource(f);d[g].push(h)}for(var g in d)e[g]=g;snd.AUDIO_DATA_MANAGER.addAll(e);var i=function(){var a={};for(var e in d)for(var f=0;f<d[e].length;f++)d[e][f].loadAudioBuffer(e),a[d[e][f].id]=d[e][f],b&&snd.MASTER.connectAudioUnit(d[e][f].id,d[e][f]);snd.AUDIO_DATA_MANAGER.removeAllDataLoadListener(i),c(a)};snd.AUDIO_DATA_MANAGER.addAllDataLoadListener(i),snd.AUDIO_DATA_MANAGER.load()},snd.util.createMediaElementAudioSources=function(a,b,c){if(!snd.MediaElementAudioSource)throw new snd.Exception("Please load snd.MediaElementAudioSource.js");var d={};for(var e in a){var f,g=document.getElementById(e);null==g?(f=new Audio(e),c.appendChild(f)):f=g,null!=a[e]&&""!=a[e]&&(f.src=a[e]);var h=new snd.MediaElementAudioSource(e,f);d[e]=h,b&&snd.MASTER.connectAudioUnit(e,h)}return d},snd.util.getNewKey=function(a){return a+(new Date).getTime().toString()+Math.floor(1e3*Math.random())},snd.util.isDataURI=function(a){return null!=snd.util.REGEX_DATA_URI_SCHEME.exec(a)},snd.util.stripDataURI=function(a){var b=a.match(snd.util.REGEX_DATA_URI_SCHEME);return b?b[1]:undefiend},snd.util.isAudioManagerKey=function(a){return null!=snd.util.REGEX_KEY.exec(a)},snd.util.stripAudioManagerKey=function(){var a=uri.match(snd.util.REGEX_DATA_URI_SCHEME);return a?a[1]:undefiend},snd.util.noteToFrequency=function(a,b){return 440*Math.pow(2,(12*(a-4)+b-9)/12)},snd.util.noteToSec=function(a,b){return 60/(a*b/4)};